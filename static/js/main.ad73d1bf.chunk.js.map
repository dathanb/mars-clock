{"version":3,"sources":["Timer/actions.js","Timer/Timer.jsx","MarsCalendar/MarsTime.js","Clock/Clock.js","MarsCalendar/MarsClock.js","MarsCalendar/reducer.js","EarthCalendar/reducer.js","EarthCalendar/EarthClock.js","App.js","serviceWorker.js","CoordinatedMarsTime/CoordinatedMarsTime.jsx","CoordinatedMarsTime/reducer.js","DebugView/DebugView.jsx","DebugView/reducer.js","reducer.js","index.js"],"names":["TIME_UPDATED","Timer","dispatch","this","props","intervalId","setInterval","time","Date","type","payload","clearInterval","React","Component","connectedTimer","connect","toRad","deg","Math","PI","MarsTime","date","Object","classCallCheck","millis","getTime","jut","jtt","deltaJ2000","MARS_DAYS_SINCE_JAN_6","marsSolDate","mtc","meanAnomaly","fms","eccentricity","perturbers","cos","equationOfCenter","sin","nu_m","trueAnomaly","aerocentricSolarLongitude","ls","equationOfTimeDegrees","eotTime","long","meanSolarTimeAtLongitude","Clock","_this$props","clockName","clockTime","react_default","a","createElement","className","formatTime","hours","hoursPart","floor","toLocaleString","minimumIntegerDigits","useGrouping","minutesPart","secondsPart","concat","MarsClock","name","marsTime","Clock_Clock","ConnectedMarsClock","state","marsCalendar","INITIAL_STATE","EarthClock","timeInHours","getHours","getMinutes","getSeconds","getMilliseconds","ConnectedEarthClock","earthCalendar","App","longitude","Boolean","window","location","hostname","match","CoordinatedMarsTime","DebugView","datetime","String","formatNumber","formatTimeFromHours","trueSolarTimeAtLongitude","n","minimumFractionDigits","maximumFractionDigits","debugView","composedReducer","combineReducers","coordinatedMarsTime","action","objectSpread","store","createStore","reducer","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","es","src_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.ad73d1bf.chunk.js","sourcesContent":["const TIME_UPDATED = 'time_updated';\r\n\r\n// action creator for TIME_UPDATED action\r\nfunction timeUpdated(datetime) {\r\n  return {\r\n    type: TIME_UPDATED,\r\n    payload: datetime\r\n  }\r\n}\r\n\r\nexport {\r\n  TIME_UPDATED,\r\n  timeUpdated\r\n};\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { timeUpdated } from './actions';\r\n\r\nclass Timer extends React.Component {\r\n  componentDidMount() {\r\n    const { dispatch } = this.props;\r\n    // set interval\r\n    this.intervalId = setInterval(() => {\r\n      const time = new Date();\r\n      dispatch(timeUpdated(time));\r\n    }, 50);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearInterval(this.intervalId);\r\n  }\r\n\r\n  render() {\r\n    return \"\";\r\n  }\r\n}\r\n\r\nconst connectedTimer = connect()(Timer);\r\n\r\nexport { \r\n  connectedTimer as Timer\r\n};\r\n","\r\nfunction toRad(deg) {\r\n    return deg / 180 * Math.PI;\r\n}\r\n\r\n/**\r\n * Based on calculations from https://pubs.giss.nasa.gov/abs/al05000n.html\r\n * and the excellent Mars clock at http://marsclock.com/\r\n * And the examples at https://www.giss.nasa.gov/tools/mars24/help/algorithm.html\r\n */\r\nclass MarsTime {\r\n    constructor(date) {\r\n        this.date = date;\r\n        this.millis = date.getTime();\r\n        // Julian DateTime Unix Epoch\r\n        const MILLIS_PER_DAY = 1000 * 60 * 60 * 24;\r\n        const JULIAN_DATE_AT_EPOCH = 2440587.5;\r\n        this.jut = this.millis / MILLIS_PER_DAY + JULIAN_DATE_AT_EPOCH;\r\n\r\n        // Julian Terrestrial Time (adjusted for leap seconds)\r\n        // TODO: find an API that gives access to this information so we're future-proofed against new leap seconds\r\n        // TODO: support calculations of JTT prior to UNIX epoch; this equation is only accurate for post-epoch datetimes\r\n        this.jtt = this.jut + (37 + 32.184) / 86400;\r\n\r\n        const JULIAN_DATE_AT_JAN_1_2000 = 2451545;\r\n        this.deltaJ2000 = this.jtt - JULIAN_DATE_AT_JAN_1_2000;\r\n\r\n        // at midnight on January 6, 2000 it was midnight at the Mars Prime Meridian\r\n        const EARTH_DAYS_SINCE_JAN_6 = this.deltaJ2000 - 4.5;\r\n        const MARS_EARTH_DAY_RATIO = 1.027491252;\r\n        const MARS_DAYS_SINCE_JAN_6 = EARTH_DAYS_SINCE_JAN_6 / MARS_EARTH_DAY_RATIO;\r\n        // By convention, to keep the MSD (Mars Sol Date) positive going back to middy December 29, 1873\r\n        // we add those days\r\n        const MARS_SOL_DATE_ADJUSTMENT = 44796;\r\n        const MARS_SOL_DATE_ERROR_ADJUSTMENT = 0.00096\r\n        this.marsSolDate = MARS_DAYS_SINCE_JAN_6 + MARS_SOL_DATE_ADJUSTMENT - MARS_SOL_DATE_ERROR_ADJUSTMENT;\r\n\r\n        this.mtc = (24 * this.marsSolDate) % 24;\r\n\r\n        const MEAN_ANOMALY_AT_J2000 = 19.3870; // in degrees\r\n        // in theory this should give 0.52402074; but just in case, we're hard-coding the value given by Allison & McEwen (2000)\r\n        // const MARS_ORBIT_LENGTH_IN_EARTH_DAYS = 686.995696258211149;\r\n        // const MEAN_DAILY_MOTION = 360 / MARS_ORBIT_LENGTH_IN_EARTH_DAYS; // in degrees\r\n        const MEAN_DAILY_MOTION =  0.52402075; // in degrees\r\n        this.meanAnomaly = (MEAN_ANOMALY_AT_J2000 + MEAN_DAILY_MOTION * this.deltaJ2000) % 360;\r\n\r\n        // angle of the fictitious mean sun\r\n        const ANGLE_AT_J2000 = 270.3863; // degrees\r\n        const DAILY_ANGLE_CHANGE = 0.52403840; // degrees\r\n        this.fms = (ANGLE_AT_J2000 + DAILY_ANGLE_CHANGE * this.deltaJ2000) % 360;\r\n\r\n        const ECCENTRICITY_AT_J2000 = 0.09340;\r\n        const DAILY_DEVIATION = 2.477E-9;\r\n        this.eccentricity = ECCENTRICITY_AT_J2000 + DAILY_DEVIATION * this.deltaJ2000;\r\n\r\n        this.perturbers = 0.0071 * Math.cos(toRad(0.985626) * this.deltaJ2000 / 2.2353 + toRad(49.409))\r\n                        + 0.0057 * Math.cos(toRad(0.985626) * this.deltaJ2000 / 2.7543 + toRad(168.173))\r\n                        + 0.0039 * Math.cos(toRad(0.985626) * this.deltaJ2000 / 1.1177 + toRad(191.837))\r\n                        + 0.0037 * Math.cos(toRad(0.985626) * this.deltaJ2000 / 15.7866 + toRad(21.736))\r\n                        + 0.0021 * Math.cos(toRad(0.985626) * this.deltaJ2000 / 2.1354 + toRad(15.704))\r\n                        + 0.0020 * Math.cos(toRad(0.985626) * this.deltaJ2000 / 2.4694 + toRad(95.528))\r\n                        + 0.0018 * Math.cos(toRad(0.985626) * this.deltaJ2000 / 32.8493 + toRad(49.095));\r\n\r\n        this.equationOfCenter = (10.691 + 3E-7 * this.deltaJ2000) * Math.sin(toRad(this.meanAnomaly))\r\n                + 0.623 * Math.sin(2 * toRad(this.meanAnomaly))\r\n                + 0.050 * Math.sin(3 * toRad(this.meanAnomaly))\r\n                + 0.005 * Math.sin(4 * toRad(this.meanAnomaly))\r\n                + 0.0005 * Math.sin(5 * toRad(this.meanAnomaly))\r\n                + this.perturbers;\r\n        this.nu_m = this.equationOfCenter;\r\n\r\n        this.trueAnomaly = this.equationOfCenter + this.meanAnomaly;\r\n\r\n        this.aerocentricSolarLongitude = this.fms + this.equationOfCenter;\r\n        this.ls = this.aerocentricSolarLongitude;\r\n\r\n        //EOT = 2.861° sin 2Ls - 0.071° sin 4Ls + 0.002° sin 6Ls - (ν - M)\r\n\r\n\r\n        this.equationOfTimeDegrees = 2.861 * Math.sin(2 * toRad(this.ls))\r\n                            - 0.071 * Math.sin(4 * toRad(this.ls))\r\n                            + 0.002 * Math.sin(6 * toRad(this.ls))\r\n                            - this.equationOfCenter;\r\n        this.eotTime = this.equationOfTimeDegrees * 24 / 360;\r\n    }\r\n\r\n    meanSolarTimeAtLongitude(long) {\r\n        // add 24 so we don't have to deal with negative numbers\r\n        // and use (long % 360) to adjust longitude to a legal range\r\n        return (this.mtc + 24 - (long % 360)* 24 / 360) % 24;\r\n    }\r\n\r\n    trueSolarTimeAtLongitude(long) {\r\n        return this.meanSolarTimeAtLongitude(long) + this.eotTime;\r\n    }\r\n\r\n}\r\n\r\nexport {\r\n    MarsTime\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport './clock.css';\r\n\r\n/**\r\n * Given a name and a time in props, displays it as a clock.\r\n */\r\nclass Clock extends React.Component {\r\n    render() {\r\n        const { clockName, clockTime } = this.props;\r\n        return <div className={\"clock\"}>\r\n            <div className={\"clockTime\"}>{Clock.formatTime(clockTime)}</div>\r\n            <div className={\"clockName\"}>{clockName}</div>\r\n        </div>;\r\n    }\r\n\r\n    /**\r\n     * Format a decimal representing the hours within the day into a clock string like 12:34:56\r\n     * @param hours\r\n     */\r\n    static formatTime(hours) {\r\n        const hoursPart = Math.floor(hours).toLocaleString('en-US', {minimumIntegerDigits: 2, useGrouping:false});\r\n        const minutesPart = Math.floor((hours * 60)%60).toLocaleString('en-US', {minimumIntegerDigits: 2, useGrouping:false});\r\n        const secondsPart = Math.floor((hours * 3600)%60).toLocaleString('en-US', {minimumIntegerDigits: 2, useGrouping:false});\r\n        return `${hoursPart}:${minutesPart}:${secondsPart}`;\r\n    }\r\n}\r\n\r\nClock.propTypes = {\r\n    clockName: PropTypes.string,\r\n    clockTime: PropTypes.number\r\n};\r\n\r\nexport { Clock };","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport {Clock} from '../Clock';\r\n\r\n/**\r\n * A clock that displays MTC (Mars Coordinated Time).\r\n */\r\nclass MarsClock extends React.Component {\r\n    render() {\r\n        const { name, marsTime } = this.props;\r\n        return <Clock\r\n            clockName={name}\r\n            clockTime={marsTime.mtc}\r\n        />;\r\n    }\r\n}\r\n\r\nMarsClock.propTypes = {\r\n    marsTime: PropTypes.object,\r\n    name: PropTypes.string,\r\n    longitude: PropTypes.number\r\n};\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        marsTime: state.marsCalendar.marsTime\r\n    };\r\n}\r\n\r\nconst ConnectedMarsClock = connect(mapStateToProps)(MarsClock);\r\n\r\nexport {\r\n    ConnectedMarsClock as MarsClock\r\n};","import { TIME_UPDATED } from '../Timer';\r\nimport { MarsTime } from './MarsTime';\r\n\r\nconst INITIAL_STATE = {\r\n    marsTime: new MarsTime(new Date())\r\n};\r\n\r\nfunction reducer(state, action) {\r\n    if (state == null) {\r\n        return INITIAL_STATE;\r\n    }\r\n    switch(action.type) {\r\n        case TIME_UPDATED:\r\n            return {\r\n                marsTime: new MarsTime(action.payload)\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport { reducer };\r\n","import {TIME_UPDATED} from '../Timer';\r\n\r\nconst INITIAL_STATE = {\r\n    time: new Date()\r\n};\r\n\r\nfunction reducer(state, action) {\r\n    if (state == null) {\r\n        return INITIAL_STATE;\r\n    }\r\n    switch(action.type) {\r\n        case TIME_UPDATED:\r\n            return {\r\n                ...state,\r\n                time: action.payload\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport { reducer };","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\nimport { Clock } from '../Clock';\r\n\r\nclass EarthClock extends React.Component {\r\n    render() {\r\n        const { time } = this.props;\r\n        const timeInHours = time.getHours() + time.getMinutes() / 60 + time.getSeconds() / 3600 + time.getMilliseconds() / 36000000;\r\n\r\n        return <Clock\r\n            clockName={\"Local Time\"}\r\n            clockTime={timeInHours}\r\n            />;\r\n    }\r\n}\r\n\r\nEarthClock.propTypes = {\r\n    name: PropTypes.string,\r\n    time: PropTypes.object\r\n};\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        time: state.earthCalendar.time\r\n    };\r\n}\r\n\r\nconst ConnectedEarthClock = connect(mapStateToProps)(EarthClock);\r\n\r\nexport {\r\n    ConnectedEarthClock as EarthClock\r\n};","import React from 'react';\r\nimport './App.css';\r\nimport {Timer} from './Timer';\r\nimport {MarsClock} from './MarsCalendar';\r\nimport {EarthClock} from './EarthCalendar';\r\n\r\nfunction App() {\r\n    return (\r\n        <div className=\"App\">\r\n            <Timer/>\r\n            <MarsClock\r\n                name={\"MTC\"}\r\n                longitude={222.6}\r\n            />\r\n            <EarthClock\r\n                name={\"Earth\"}\r\n            />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { connect } from 'react-redux';\r\n\r\nclass CoordinatedMarsTime extends React.Component {\r\n  render() {\r\n    const { time } = this.props;\r\n    return <p>{time}</p>\r\n  }\r\n}\r\n\r\nCoordinatedMarsTime.propTypes = {\r\n  time: PropTypes.number\r\n};\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    time: state.time\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps)(CoordinatedMarsTime);\r\n","import { TIME_UPDATED } from '../Timer';\r\n\r\n\r\nconst INITIAL_STATE = {\r\n  time: new Date().getTime()\r\n};\r\n\r\nfunction reducer(state, action) {\r\n  if (state === null || typeof(state) == 'undefined') {\r\n    return INITIAL_STATE;\r\n  }\r\n  if (action === null || typeof(action) == 'undefined') {\r\n    return state;\r\n  }\r\n  switch(action.type) {\r\n    case TIME_UPDATED: \r\n      return {time: action.payload}\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport { reducer };\r\n\r\n","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {MarsTime} from '../MarsCalendar';\r\n\r\nclass DebugView extends React.Component {\r\n  render() {\r\n    const { datetime } = this.props;\r\n    const marsTime = new MarsTime(datetime);\r\n\r\n    return <div>\r\n      <div>Date: {String(marsTime.date)}</div>\r\n      <div>Unix Epoch Millis: {marsTime.millis}</div>\r\n      <div>JD<sub>UT</sub>: {DebugView.formatNumber(marsTime.jut)}</div>\r\n      <div>JD<sub>TT</sub>: {DebugView.formatNumber(marsTime.jtt)}</div>\r\n      <div>&Delta;J2000: {DebugView.formatNumber(marsTime.deltaJ2000)}</div>\r\n      <div>Coordinated Mars Time: {DebugView.formatTimeFromHours(marsTime.mtc)}</div>\r\n      <div>M: {DebugView.formatNumber(marsTime.meanAnomaly)}&deg;</div>\r\n      <div>&alpha;<sub>FMS</sub>: {DebugView.formatNumber(marsTime.fms)}&deg;</div>\r\n      <div><i>e</i>: {DebugView.formatNumber(marsTime.eccentricity)}</div>\r\n      <div>PBS: {DebugView.formatNumber(marsTime.perturbers)}&deg;</div>\r\n      <div>v - M: {DebugView.formatNumber(marsTime.equationOfCenter)}&deg;</div>\r\n      <div>v: {DebugView.formatNumber(marsTime.trueAnomaly)}&deg;</div>\r\n      <div>L<sub>S</sub>: {DebugView.formatNumber(marsTime.aerocentricSolarLongitude)}&deg;</div>\r\n      <div>EOT = {DebugView.formatNumber(marsTime.equationOfTimeDegrees)}&deg; = {DebugView.formatTimeFromHours(marsTime.eotTime)}</div>\r\n      <div><b>Curiosity</b></div>\r\n      <div>137.4&deg;E longitude</div>\r\n      <div>LMST: {DebugView.formatTimeFromHours(marsTime.meanSolarTimeAtLongitude(360-137.4))}</div>\r\n      <div>LTST: {DebugView.formatTimeFromHours(marsTime.trueSolarTimeAtLongitude(360-137.4))}</div>\r\n    </div>;\r\n  }\r\n\r\n  static formatNumber(n) {\r\n      return n.toLocaleString('en-US', {minimumFractionDigits: 5, maximumFractionDigits:5, useGrouping:true});\r\n  }\r\n\r\n  static formatTimeFromHours(hours) {\r\n    const hoursPart = Math.floor(hours).toLocaleString('en-US', {minimumIntegerDigits: 2, useGrouping:false});\r\n    const minutesPart = Math.floor((hours * 60)%60).toLocaleString('en-US', {minimumIntegerDigits: 2, useGrouping:false});\r\n    const secondsPart = Math.floor((hours * 3600)%60).toLocaleString('en-US', {minimumIntegerDigits: 2, useGrouping:false});\r\n    return `${hoursPart}:${minutesPart}:${secondsPart}`;\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    datetime: state.debugView.datetime\r\n  }\r\n}\r\n\r\nconst connectedDebugView = connect(mapStateToProps)(DebugView);\r\n\r\nexport {\r\n  connectedDebugView as DebugView\r\n};\r\n","import { TIME_UPDATED } from '../Timer';\r\n\r\nconst INITIAL_STATE = {\r\n  datetime: new Date(),\r\n  time: new Date().getTime()\r\n};\r\n\r\nfunction reducer(state, action) {\r\n  if (state == null) {\r\n    return INITIAL_STATE;\r\n  }\r\n  switch(action.type) {\r\n    case TIME_UPDATED:\r\n      return { \r\n        datetime: action.payload,\r\n        time: action.payload.getTime()\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport { reducer };\r\n","import { reducer as coordinatedMarsTimeReducer } from './CoordinatedMarsTime';\r\nimport { reducer as debugViewReducer } from './DebugView';\r\nimport { reducer as marsCalendarReducer } from './MarsCalendar';\r\nimport { reducer as earthCalendarReducer } from './EarthCalendar';\r\nimport { combineReducers } from 'redux';\r\n\r\nconst composedReducer = combineReducers({\r\n  coordinatedMarsTime: coordinatedMarsTimeReducer,\r\n  debugView: debugViewReducer,\r\n  marsCalendar: marsCalendarReducer,\r\n  earthCalendar: earthCalendarReducer\r\n});\r\n\r\nexport default composedReducer;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport { createStore } from 'redux';\r\nimport reducer from './reducer';\r\nimport { Provider } from 'react-redux';\r\n\r\nconst store = createStore(\r\n    reducer,\r\n    window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n);\r\n\r\n\r\n\r\nReactDOM.render(<Provider store={store}><App/></Provider>, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}